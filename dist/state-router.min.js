!function e(t,n,r){function i(u,o){if(!n[u]){if(!t[u]){var a="function"==typeof require&&require;if(!o&&a)return a(u,!0);if(s)return s(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[u]={exports:{}};t[u][0].call(l.exports,function(e){var n=t[u][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[u].exports}for(var s="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function s(e){return"number"==typeof e}function u(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!s(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,s,a,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||u(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],o(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,s=new Array(r-1),a=1;r>a;a++)s[a-1]=arguments[a];n.apply(this,s)}else if(u(n)){for(r=arguments.length,s=new Array(r-1),a=1;r>a;a++)s[a-1]=arguments[a];for(c=n.slice(),r=c.length,a=0;r>a;a++)c[a].apply(this,s)}return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?u(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,u(this._events[e])&&!this._events[e].warned){var n;n=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,"function"==typeof console.trace)}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,s,o;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(u(n)){for(o=s;o-->0;)if(n[o]===t||n[o].listener&&n[o].listener===t){r=o;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],2:[function(e,t,n){"use strict";e("../utils/process");t.exports=["$state","$rootScope",function(e,t){return e.on("change:complete",function(){t.$apply()}),{restrict:"A",scope:{},link:function(t,n,r){n.css("cursor","pointer"),n.on("click",function(t){e.change(r.sref),t.preventDefault()})}}}]},{"../utils/process":8}],3:[function(e,t,n){"use strict";"undefined"!=typeof t&&"undefined"!=typeof n&&t.exports===n&&(t.exports="angular-state-router"),angular.module("angular-state-router",[]).provider("$state",e("./services/state-router")).factory("$urlManager",e("./services/url-manager")).factory("$resolution",e("./services/resolution")).run(["$rootScope","$state","$urlManager","$resolution",function(e,t,n,r){e.$on("$locationChangeSuccess",function(){n.location(arguments)}),t.$ready()}]).directive("sref",e("./directives/sref"))},{"./directives/sref":2,"./services/resolution":4,"./services/state-router":5,"./services/url-manager":6}],4:[function(e,t,n){"use strict";t.exports=["$q","$injector","$state","$log",function(e,t,n,r){var i={},s=function(n){var r={};return angular.forEach(n,function(n,i){var s=angular.isString(n)?t.get(n):t.invoke(n,null,null,i);r[i]=e.when(s)}),e.all(r)};i.resolve=s;var u=function(e,t){var r=n.current();return r?void s(r.resolve||{}).then(function(n){angular.extend(e.locals,n),t()},function(e){t(new Error("Error resolving state"))}):t()};return u.priority=100,n.$use(u),i}]},{}],5:[function(e,t,n){"use strict";var r=e("events").EventEmitter,i=e("../utils/process"),s=e("../utils/url-dictionary"),u=e("../utils/parameters"),o=e("../utils/queue-handler");t.exports=function(){var e,t,n=this,a={historyLength:5},c={},l={},f=new s,h=[],p=new r;["addListener","on","once","removeListener","removeAllListeners","listeners","emit"].forEach(function(e){n[e]=angular.bind(p,p[e])});var v=function(e){if(e&&e.match(/^[a-zA-Z0-9_\.]*\(.*\)$/)){var t=e.substring(0,e.indexOf("(")),n=u(e.substring(e.indexOf("(")+1,e.lastIndexOf(")")));return{name:t,params:n}}return{name:e,params:null}},m=function(e){return e.inherit="undefined"==typeof e.inherit?!0:e.inherit,e},d=function(e){e=e||"";for(var t=e.split("."),n=0;n<t.length;n++)if(!t[n].match(/[a-zA-Z0-9_]+/))return!1;return!0},g=function(e){e=e||"";for(var t=e.split("."),n=0;n<t.length;n++)if(!t[n].match(/(\*(\*)?|[a-zA-Z0-9_]+)/))return!1;return!0},_=function(e,t){return angular.equals(e,t)},y=function(e){var t=e.split(".");return t.map(function(e,t,n){return n.slice(0,t+1).join(".")}).filter(function(e){return null!==e})},x=function(e){e=e||"";var t=null;if(!d(e))return null;if(l[e])return l[e];for(var n=y(e),r=n.map(function(e){return c[e]}).filter(function(e){return null!==e}),i=r.length-1;i>=0&&(r[i]&&(t=angular.extend(angular.copy(r[i]),t||{})),!t||t.inherit);i--);return l[e]=t,t},L=function(e,t){if(null===e||"undefined"==typeof e)throw new Error("Name cannot be null.");if(!d(e))throw new Error("Invalid state name.");var n=angular.copy(t);return m(n),n.name=e,c[e]=n,l={},n.url&&f.add(n.url,n),t};this.options=function(e){return e=e||{},e.hasOwnProperty("historyLength")&&(a.historyLength=e.historyLength),n},this.state=function(e,t){return t?(L(e,t),n):x(e)},this.init=function(e,r){return t={name:e,params:r},n},this.$get=["$location","$q","$injector",function(n){var r,s,u,l=[],m=!1,y=function(e){var t=r.historyLength||5;e&&l.push(e),l.length>t&&l.splice(0,l.length-t)},$=function(t,n,r){n=n||{};var i=v(t);t=i.name,n=angular.extend(i.params||{},n);var s=null,u={name:t,params:n,locals:{}},a=o().data(u),c=angular.copy(x(t)),l=e;c&&(c.locals=u.locals,c.params=angular.extend(c.params||{},n)),null===c?a.add(function(e,t){s=new Error("Requested state was not defined."),s.code="notfound",p.emit("error:notfound",s,u),t(s)}):_(l,c)?a.add(function(t,n){e=c,n()}):(a.add(function(t,n){l&&y(l),e=c,n()}),a.add(function(e,t){p.emit("change:begin",u),t()}),a.add(h),a.add(function(e,t){p.emit("change:end",u),t()})),a.execute(function(e){e&&p.emit("error",e,u),p.emit("change:complete",e,u),r&&r(e)})};return u={options:function(){return r||(r=angular.copy(a)),r},state:function(e,t){return t?(L(e,t),u):x(e)},$use:function(e){if("function"!=typeof e)throw new Error("Middleware must be a function.");return h.push(e),u},$ready:function(){return m||(m=!0,r=angular.copy(a),t&&(s=angular.copy(t)),""!==n.url()?u.$location(n.url(),function(){p.emit("init")}):s?$(s.name,s.params,function(){p.emit("init")}):p.emit("init")),u},parse:v,library:function(){return c},validate:{name:d,query:g},history:function(){return l},change:function(e,t){return i.nextTick(angular.bind(null,$,e,t)),u},$location:function(e,t){var n=f.lookup(e);if(n){var r=n.ref;r&&i.nextTick(angular.bind(null,$,r.name,n.params,t))}return u},current:function(){return e?angular.copy(e):null},active:function(t,n){if(t=t||"",!e)return!1;if(t instanceof RegExp)return!!e.name.match(t);if("string"==typeof t){if(t.match(/^\/.*\/$/)){var r=t.substr(1,t.length-2);return!!e.name.match(new RegExp(r))}var i=t.split(".").map(function(e){return"*"===e?"[a-zA-Z0-9_]*":"**"===e?"[a-zA-Z0-9_\\.]*":e}).join("\\.");return!!e.name.match(new RegExp(i))}return!1}},["addListener","on","once","removeListener","removeAllListeners","listeners","emit"].forEach(function(e){u[e]=angular.bind(p,p[e])}),u}]}},{"../utils/parameters":7,"../utils/process":8,"../utils/queue-handler":9,"../utils/url-dictionary":10,events:1}],6:[function(e,t,n){"use strict";{var r=e("events").EventEmitter;e("../utils/url-dictionary")}t.exports=["$state","$location",function(e,t){var n=t.url(),i=new r,s=function(){var r=n,s=t.url();s!==r&&(n=s,e.$location(n),i.emit("update:location"))},u=function(){var r=e.current();if(r&&r.url){n=r.url;var s=r.params||{};for(var u in s)n=n.replace(new RegExp(":"+u,"g"),s[u]);t.url(n)}i.emit("update")};return i.update=function(){u()},i.location=function(){s(arguments)},e.$use(function(e,t){u(),t()}),i}]},{"../utils/url-dictionary":10,events:1}],7:[function(e,t,n){"use strict";var r=/([,{]\s*(("|')(.*?)\3|\w*)|(:\s*([+-]?(?=\.\d|\d)(?:\d+)?(?:\.?\d*)(?:[eE][+-]?\d+)?|true|false|null|("|')(.*?)\7|\[[^\]]*\])))/g,i=/^("|')(.*?)\1$/,s=/^[+-]?(?=\.\d|\d)(?:\d+)?(?:\.?\d*)(?:[eE][+-]?\d+)?$/,u=function(e){return"true"===e?!0:"false"===e?!1:"null"===e?null:e.match(i)?e.substr(1,e.length-2):e.match(s)?+e:"NaN"===e?0/0:e},o=function(e){if(e=e.replace(/^\s*/,"").replace(/\s*$/,""),null===e.match(/^\s*{.*}\s*$/))throw new Error("Parameters expects an Object");var t=function(e){return e.replace(/^[\{,]?\s*["']?/,"").replace(/["']?\s*$/,"")},n=function(e){var t=e.replace(/^(:)?\s*/,"").replace(/\s*$/,"");return u(t)};return e.match(r).map(function(e,r,i){return r%2===0?t(e):n(e)})},a=function(e){e=e||"";var t={};return o(e).forEach(function(e,n,r){n%2===0&&(t[e]=r[n+1])}),t};t.exports=a,t.exports.resolveValue=u,t.exports.listify=o},{}],8:[function(e,t,n){"use strict";var r={nextTick:function(e){setTimeout(e,0)}};t.exports=r},{}],9:[function(e,t,n){"use strict";var r=(e("../utils/process"),function(){var e=[],t=null,n={add:function(t){return t&&t.constructor===Array?e=e.concat(t):e.push(t),this},data:function(e){return t=e,this},execute:function(n){var r,i=e.slice(0).sort(function(e,t){return(e.priotity||1)<(t.priotity||1)});(r=function(){var e=i.shift();e?e.call(null,t,function(e){e?n(e):r()}):n(null)})()}};return n});t.exports=r},{"../utils/process":8}],10:[function(e,t,n){"use strict";function r(){this._patterns=[],this._refs=[],this._params=[]}var i=e("./url");r.prototype.add=function(e,t){e=e||"";var n,r=this._patterns.length,s={};n=i(e).path().split(-1===e.indexOf("?")?"/":"/");var u="^";n.forEach(function(e,t){0!==t&&(u+="\\/"),":"===e[0]?(u+="[^\\/?]*",s[e.substring(1)]=new RegExp(u)):u+=e}),u+="[\\/]?$",this._patterns[r]=new RegExp(u),this._refs[r]=t,this._params[r]=s},r.prototype.lookup=function(e,t){e=e||"";var n=i(e).path(),r=i(e).queryparams(),s=this,u=function(e){e=e||"";for(var t=s._patterns.length-1;t>=0;t--)if(null!==e.match(s._patterns[t]))return t;return-1},o=u(n);if(-1!==o){var a={};for(var c in this._params[o]){var l=this._params[o][c],f=(e.match(l)||[]).pop()||"",h=f.split("/").pop();a[c]=h}return a=angular.extend(r,a),{url:e,ref:this._refs[o],params:a}}return null},t.exports=r},{"./url":11}],11:[function(e,t,n){"use strict";function r(e){e=e||"";var t={path:function(){return-1===e.indexOf("?")?e:e.substring(0,e.indexOf("?"))},querystring:function(){return-1===e.indexOf("?")?"":e.substring(e.indexOf("?")+1)},queryparams:function(){for(var e=t.querystring().split("&"),n={},r=0;r<e.length;r++)if(""!==e[r]){var i=e[r].split("=");n[i[0]]="undefined"==typeof i[1]||""===i[1]?!0:i[1]}return n}};return t}t.exports=r},{}]},{},[3]);
//# sourceMappingURL=state-router.min.js.map