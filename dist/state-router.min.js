!function r(n,t,e){function a(i,o){if(!t[i]){if(!n[i]){var s="function"==typeof require&&require;if(!o&&s)return s(i,!0);if(u)return u(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var l=t[i]={exports:{}};n[i][0].call(l.exports,function(r){var t=n[i][1][r];return a(t?t:r)},l,l.exports,r,n,t,e)}return t[i].exports}for(var u="function"==typeof require&&require,i=0;i<e.length;i++)a(e[i]);return a}({1:[function(r,n,t){"use strict";n.exports=["$state",function(r){return{restrict:"A",scope:{},link:function(n,t,e){t.css("cursor","pointer"),t.on("click",function(n){r.change(e.sref),n.preventDefault()})}}}]},{}],2:[function(r,n,t){"use strict";"undefined"!=typeof n&&"undefined"!=typeof t&&n.exports===t&&(n.exports="angular-state-router"),angular.module("angular-state-router",[]).provider("$state",r("./services/state-router")).factory("$urlManager",r("./services/url-manager")).factory("$resolution",r("./services/resolution")).run(["$rootScope","$state","$urlManager","$resolution",function(r,n,t,e){r.$on("$locationChangeSuccess",function(){t.location(arguments)}),n.$ready()}]).directive("sref",r("./directives/sref"))},{"./directives/sref":1,"./services/resolution":3,"./services/state-router":4,"./services/url-manager":5}],3:[function(r,n,t){"use strict";n.exports=["$q","$injector","$state",function(r,n,t){var e={},a=function(t){var e={};return angular.forEach(t,function(t,a){var u=angular.isString(t)?n.get(t):n.invoke(t,null,null,a);e[a]=r.when(u)}),r.all(e)};e.resolve=a;var u=function(r,n){var e=t.current();return e?void a(e.resolve||{}).then(function(t){angular.extend(r.locals,t),n()},function(r){n(new Error("Error resolving state"))}):n()};return u.priority=100,t.$use(u),e}]},{}],4:[function(r,n,t){"use strict";var e=r("../utils/url-dictionary"),a=r("../utils/parameters"),u=r("../utils/queue-handler");n.exports=[function(){var r=this,n={historyLength:5},t={},i={},o=new e,s=[],c=function(r){if(r&&r.match(/^[a-zA-Z0-9_\.]*\(.*\)$/)){var n=r.substring(0,r.indexOf("(")),t=a(r.substring(r.indexOf("(")+1,r.lastIndexOf(")")));return{name:n,params:t}}return{name:r,params:null}},l=function(r){return r.inherit="undefined"==typeof r.inherit?!0:r.inherit,r},f=function(r){r=r||"";for(var n=r.split("."),t=0;t<n.length;t++)if(!n[t].match(/[a-zA-Z0-9_]+/))return!1;return!0},p=function(r){r=r||"";for(var n=r.split("."),t=0;t<n.length;t++)if(!n[t].match(/(\*(\*)?|[a-zA-Z0-9_]+)/))return!1;return!0},d=function(r,n){return r=r||{},n=n||{},r.name===n.name&&angular.equals(r.params,n.params)},h=function(r){var n=r.split(".");return n.map(function(r,n,t){return t.slice(0,n+1).join(".")}).filter(function(r){return null!==r})},v=function(r){r=r||"";var n=null;if(!f(r))return null;if(i[r])return i[r];for(var e=h(r),a=e.map(function(r){return t[r]}).filter(function(r){return!!r}),u=a.length-1;u>=0;u--){if(a[u]){var o=angular.copy(a[u]);delete o.resolve,n=angular.merge(o,n||{})}if(n&&n.inherit===!1)break}return i[r]=n,n},g=function(r,n){if(null===r||"undefined"==typeof r)throw new Error("Name cannot be null.");if(!f(r))throw new Error("Invalid state name.");var e=angular.copy(n);return l(e),e.name=r,t[r]=e,i={},e.url&&o.add(e.url,e),n};this.options=function(t){return angular.extend(n,t||{}),r},this.state=function(n,t){return t?(g(n,t),r):v(n)},this.init=function(t,e){return n.initialLocation={name:t,params:e},r},this.$get=["$rootScope","$location","$q",function(r,e,a){var i,l,h,m,$=[],y=!1,x=function(r){var n=l.historyLength||5;r&&$.push(r),$.length>n&&$.splice(0,$.length-n)},w=function(n,t){var e=a.defer();t=t||{};var o=c(n);n=o.name,t=angular.extend(o.params||{},t);var l=null,f={name:n,params:t,locals:{}},p=u().data(f),h=angular.copy(v(n)),g=i;return h&&(h.locals=f.locals,h.params=angular.extend(h.params||{},t)),null===h?p.add(function(n,t){l=new Error("Requested state was not defined."),l.code="notfound",r.$broadcast("$stateChangeErrorNotFound",l,f),t(l)}):d(g,h)?p.add(function(r,n){i=h,n()}):(p.add(function(r,n){g&&x(g),i=h,n()}),p.add(function(n,t){r.$broadcast("$stateChangeBegin",f),t()}),p.add(s),p.add(function(n,t){r.$broadcast("$stateChangeEnd",f),t()})),p.execute(function(n){n?(r.$broadcast("$stateChangeError",n,f),e.reject(n)):e.resolve(f),r.$broadcast("$stateChangeComplete",f)}),e.promise};return m={options:function(){return l||(l=angular.copy(n)),l},state:function(r,n){return n?(g(r,n),m):v(r)},$use:function(r){if("function"!=typeof r)throw new Error("Middleware must be a function.");return s.push(r),m},$ready:function(){if(!y){y=!0,l||(l=angular.copy(n)),l.hasOwnProperty("initialLocation")&&(h=angular.copy(l.initialLocation));var t=null;""!==e.url()?t=m.$location(e.url()):h&&(t=w(h.name,h.params)),a.when(t).then(function(){r.$broadcast("$stateInit")})}return m},parse:c,library:function(){return t},validate:{name:f,query:p},history:function(){return $},change:function(r,n){return w(r,n)},$location:function(r){var n=o.lookup(r);if(n){var t=n.ref;if(t)return w(t.name,n.params)}return a.reject(new Error("Unable to find location in library"))},current:function(){return i?angular.copy(i):null},active:function(r,n){if(r=r||"",!i)return!1;if(r instanceof RegExp)return!!i.name.match(r);if("string"==typeof r){if(r.match(/^\/.*\/$/)){var t=r.substr(1,r.length-2);return!!i.name.match(new RegExp(t))}var e=r.split(".").map(function(r){return"*"===r?"[a-zA-Z0-9_]*":"**"===r?"[a-zA-Z0-9_\\.]*":r}).join("\\.");return!!i.name.match(new RegExp(e))}return!1}}}]}]},{"../utils/parameters":6,"../utils/queue-handler":7,"../utils/url-dictionary":8}],5:[function(r,n,t){"use strict";r("../utils/url-dictionary");n.exports=["$state","$location","$rootScope",function(r,n,t){var e=n.url(),a={},u=function(){var t=r.current();if(t&&t.url){var a;a=t.url;var u=t.params||{},i={};for(var o in u){var s=new RegExp(":"+o,"g");a.match(s)?a=a.replace(s,u[o]):i[o]=u[o]}n.path(a),n.search(i),e=n.url()}};return a.update=function(){u()},a.location=function(){var a=e,u=n.url();u!==a&&(e=u,r.$location(e),t.$broadcast("$locationStateUpdate"))},r.$use(function(r,n){u(),n()}),a}]},{"../utils/url-dictionary":8}],6:[function(r,n,t){"use strict";var e=/([,{]\s*(("|')(.*?)\3|\w*)|(:\s*([+-]?(?=\.\d|\d)(?:\d+)?(?:\.?\d*)(?:[eE][+-]?\d+)?|true|false|null|("|')(.*?)\7|\[[^\]]*\])))/g,a=/^("|')(.*?)\1$/,u=/^[+-]?(?=\.\d|\d)(?:\d+)?(?:\.?\d*)(?:[eE][+-]?\d+)?$/,i=function(r){return"true"===r?!0:"false"===r?!1:"null"===r?null:r.match(a)?r.substr(1,r.length-2):r.match(u)?+r:"NaN"===r?0/0:r},o=function(r){if(r=r.replace(/^\s*/,"").replace(/\s*$/,""),null===r.match(/^\s*{.*}\s*$/))throw new Error("Parameters expects an Object");var n=function(r){return r.replace(/^[\{,]?\s*["']?/,"").replace(/["']?\s*$/,"")},t=function(r){var n=r.replace(/^(:)?\s*/,"").replace(/\s*$/,"");return i(n)};return r.match(e).map(function(r,e,a){return e%2===0?n(r):t(r)})},s=function(r){r=r||"";var n={};return o(r).forEach(function(r,t,e){t%2===0&&(n[r]=e[t+1])}),n};n.exports=s,n.exports.resolveValue=i,n.exports.listify=o},{}],7:[function(r,n,t){"use strict";var e=function(){var r=[],n=null,t={add:function(n){return n&&n.constructor===Array?r=r.concat(n):r.push(n),this},data:function(r){return n=r,this},execute:function(t){var e,a=r.slice(0).sort(function(r,n){return(r.priotity||1)<(n.priotity||1)});(e=function(){var r=a.shift();r?r.call(null,n,function(r){r?t(r):e()}):t(null)})()}};return t};n.exports=e},{}],8:[function(r,n,t){"use strict";function e(){this._patterns=[],this._refs=[],this._params=[]}var a=r("./url");e.prototype.add=function(r,n){r=r||"";var t,e=this._patterns.length,u={};t=a(r).path().split(-1===r.indexOf("?")?"/":"/");var i="^";t.forEach(function(r,n){0!==n&&(i+="\\/"),":"===r[0]?(i+="[^\\/?]*",u[r.substring(1)]=new RegExp(i)):i+=r}),i+="[\\/]?$",this._patterns[e]=new RegExp(i),this._refs[e]=n,this._params[e]=u},e.prototype.lookup=function(r,n){r=r||"";var t=a(r).path(),e=a(r).queryparams(),u=this,i=function(r){r=r||"";for(var n=u._patterns.length-1;n>=0;n--)if(null!==r.match(u._patterns[n]))return n;return-1},o=i(t);if(-1!==o){var s={};for(var c in this._params[o]){var l=this._params[o][c],f=(r.match(l)||[]).pop()||"",p=f.split("/").pop();s[c]=p}return s=angular.extend(e,s),{url:r,ref:this._refs[o],params:s}}return null},n.exports=e},{"./url":9}],9:[function(r,n,t){"use strict";function e(r){r=r||"";var n={path:function(){return-1===r.indexOf("?")?r:r.substring(0,r.indexOf("?"))},querystring:function(){return-1===r.indexOf("?")?"":r.substring(r.indexOf("?")+1)},queryparams:function(){for(var r=n.querystring().split("&"),t={},e=0;e<r.length;e++)if(""!==r[e]){var a=r[e].split("=");t[a[0]]="undefined"==typeof a[1]||""===a[1]?!0:a[1]}return t}};return n}n.exports=e},{}]},{},[2]);
//# sourceMappingURL=state-router.min.js.map