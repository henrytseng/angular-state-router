!function r(n,t,e){function a(u,o){if(!t[u]){if(!n[u]){var s="function"==typeof require&&require;if(!o&&s)return s(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=t[u]={exports:{}};n[u][0].call(f.exports,function(r){var t=n[u][1][r];return a(t?t:r)},f,f.exports,r,n,t,e)}return t[u].exports}for(var i="function"==typeof require&&require,u=0;u<e.length;u++)a(e[u]);return a}({1:[function(r,n,t){"use strict";n.exports=["$state",function(r){return{restrict:"A",scope:{},link:function(n,t,e){t.css("cursor","pointer"),t.on("click",function(n){r.change(e.sref),n.preventDefault()})}}}]},{}],2:[function(r,n,t){"use strict";"undefined"!=typeof n&&"undefined"!=typeof t&&n.exports===t&&(n.exports="angular-state-router"),angular.module("angular-state-router",[]).provider("$state",r("./services/state-router")).factory("$urlManager",r("./services/url-manager")).factory("$resolution",r("./services/resolution")).factory("$enact",r("./services/enact")).factory("$queueHandler",r("./services/queue-handler")).run(["$rootScope","$state","$urlManager","$resolution","$enact",function(r,n,t,e,a){r.$on("$locationChangeSuccess",function(){t.location(arguments)}),n.$ready()}]).directive("sref",r("./directives/sref"))},{"./directives/sref":1,"./services/enact":3,"./services/queue-handler":4,"./services/resolution":5,"./services/state-router":6,"./services/url-manager":7}],3:[function(r,n,t){"use strict";n.exports=["$q","$injector","$state","$rootScope",function(r,n,t,e){var a={},i=function(t){var e=[];return angular.forEach(t,function(t){var a=angular.isString(t)?n.get(t):n.invoke(t);e.push(r.when(a))}),r.all(e)};a.process=i;var u=function(r,n){var a=t.current();return a?void i(a.actions||[]).then(function(){n()},function(r){e.$broadcast("$stateChangeErrorAction",r),n(new Error("Error processing state actions"))}):n()};return t.$use(u,100),a}]},{}],4:[function(r,n,t){"use strict";n.exports=["$rootScope",function(r){var n=function(){var n=[],t=null,e={add:function(r,t){return r&&r.constructor===Array?(r.forEach(function(r){r.priority="undefined"==typeof r.priority?1:r.priority}),n=n.concat(r)):(r.priority=t||("undefined"==typeof r.priority?1:r.priority),n.push(r)),this},data:function(r){return t=r,this},execute:function(e){var a,i=n.slice(0).sort(function(r,n){return Math.max(-1,Math.min(1,n.priority-r.priority))});(a=function(){r.$evalAsync(function(){var r=i.shift();r?r.call(null,t,function(r){r?e(r):a()}):e(null)})})()}};return e};return{create:function(){return n()}}}]},{}],5:[function(r,n,t){"use strict";n.exports=["$q","$injector","$state","$rootScope",function(r,n,t,e){var a={},i=function(t){var e={};return angular.forEach(t,function(t,a){var i=angular.isString(t)?n.get(t):n.invoke(t,null,null,a);e[a]=r.when(i)}),r.all(e)};a.resolve=i;var u=function(r,n){var a=t.current();return a?void i(a.resolve||{}).then(function(t){angular.extend(r.locals,t),n()},function(r){e.$broadcast("$stateChangeErrorResolve",r),n(new Error("Error resolving state"))}):n()};return t.$use(u,101),a}]},{}],6:[function(r,n,t){"use strict";var e=r("../utils/url-dictionary"),a=r("../utils/parameters");n.exports=[function(){var r=this,n={historyLength:5},t={},i={},u=new e,o=[],s=function(r){if(r&&r.match(/^[a-zA-Z0-9_\.]*\(.*\)$/)){var n=r.substring(0,r.indexOf("(")),t=a(r.substring(r.indexOf("(")+1,r.lastIndexOf(")")));return{name:n,params:t}}return{name:r,params:null}},c=function(r){return r.inherit="undefined"==typeof r.inherit?!0:r.inherit,r},f=function(r){r=r||"";for(var n=r.split("."),t=0;t<n.length;t++)if(!n[t].match(/[a-zA-Z0-9_]+/))return!1;return!0},l=function(r){r=r||"";for(var n=r.split("."),t=0;t<n.length;t++)if(!n[t].match(/(\*(\*)?|[a-zA-Z0-9_]+)/))return!1;return!0},p=function(r,n){return r=r||{},n=n||{},r.name===n.name&&angular.equals(r.params,n.params)},d=function(r){var n=r.split(".");return n.map(function(r,n,t){return t.slice(0,n+1).join(".")}).filter(function(r){return null!==r})},h=function(r){r=r||"";var n=null;if(!f(r))return null;if(i[r])return i[r];for(var e=d(r),a=e.map(function(r,n){var e=angular.copy(t[r]);return e}).filter(function(r){return!!r}),u=a.length-1;u>=0;u--){if(a[u]){var o=a[u];n=angular.merge(o,n||{})}if(n&&n.inherit===!1)break}return i[r]=n,n},v=function(r,n){if(null===r||"undefined"==typeof r)throw new Error("Name cannot be null.");if(!f(r))throw new Error("Invalid state name.");var e=angular.copy(n);return c(e),e.name=r,t[r]=e,i={},e.url&&u.add(e.url,e),n};this.options=function(t){return angular.extend(n,t||{}),r},this.state=function(n,t){return t?(v(n,t),r):h(n)},this.init=function(t,e){return n.initialLocation={name:t,params:e},r},this.$get=["$rootScope","$location","$q","$queueHandler",function(r,e,a,i){var c,g,m,$,y=[],x=!0,E=[],w=!1,b=function(r){var n=g.historyLength||5;r&&E.push(r),E.length>n&&E.splice(0,E.length-n)},q=function(n,t,e){r.$evalAsync(function(){t=t||{};var a=s(n);n=a.name,t=angular.extend(a.params||{},t);var u=null,f={name:n,params:t,locals:{}},l=i.create().data(f),d=angular.copy(h(n)),v=c;d&&(d.locals=f.locals,d.params=angular.extend(d.params||{},t)),null===d?l.add(function(n,t){u=new Error("Requested state was not defined."),u.code="notfound",r.$broadcast("$stateChangeErrorNotFound",u,f),t(u)},200):p(v,d)?l.add(function(r,n){c=d,n()},200):(l.add(function(n,t){r.$broadcast("$stateChangeBegin",f),t()},201),l.add(function(r,n){v&&b(v),c=d,n()},200),l.add(o),l.add(function(n,t){r.$broadcast("$stateChangeEnd",f),t()},-200)),l.execute(e)})},_=function(n,t){var e,i=a.defer();y.push({name:n,params:t});var u;return u=function(){if(x){var n=y.shift();n?(x=!1,q(n.name,n.params,function(t){x=!0,t&&(r.$broadcast("$stateChangeError",t,n),e=t),u()})):e?i.reject(e):i.resolve()}},u(),i.promise},O=function(n,t){return _(n,t).then(function(){r.$broadcast("$stateChangeComplete",null,c)},function(n){r.$broadcast("$stateChangeComplete",n,c)})};return $={options:function(){return g||(g=angular.copy(n)),g},state:function(r,n){if(!n)return h(r);if(v(r,n),c){var t=d(c.name);-1!==t.indexOf(r)&&_(c.name)}return $},$use:function(r,n){if("function"!=typeof r)throw new Error("Middleware must be a function.");return"undefined"!=typeof n&&(r.priority=n),o.push(r),$},$ready:function(){return r.$evalAsync(function(){if(!w){w=!0,g||(g=angular.copy(n)),g.hasOwnProperty("initialLocation")&&(m=angular.copy(g.initialLocation));var t=null;""!==e.url()?t=$.$location(e.url()):m&&(t=O(m.name,m.params)),a.when(t).then(function(){r.$broadcast("$stateInit")})}}),$},parse:s,library:function(){return t},validate:{name:f,query:l},history:function(){return E},change:function(r,n){return O(r,n)},$location:function(n){var t=u.lookup(n);if(t){var e=t.ref;if(e)return O(e.name,t.params)}else if(n&&""!==n){var i=new Error("Requested state was not defined.");i.code="notfound",r.$broadcast("$stateChangeErrorNotFound",i,{url:n})}return a.reject(new Error("Unable to find location in library"))},current:function(){return c?angular.copy(c):null},active:function(r,n){if(r=r||"",!c)return!1;if(r instanceof RegExp)return!!c.name.match(r);if("string"==typeof r){if(r.match(/^\/.*\/$/)){var t=r.substr(1,r.length-2);return!!c.name.match(new RegExp(t))}var e=r.split(".").map(function(r){return"*"===r?"[a-zA-Z0-9_]*":"**"===r?"[a-zA-Z0-9_\\.]*":r}).join("\\.");return!!c.name.match(new RegExp(e))}return!1}}}]}]},{"../utils/parameters":8,"../utils/url-dictionary":9}],7:[function(r,n,t){"use strict";r("../utils/url-dictionary");n.exports=["$state","$location","$rootScope",function(r,n,t){var e=n.url(),a={},i=function(){var t=r.current();if(t&&t.url){var a;a=t.url;var i=t.params||{},u={};for(var o in i){var s=new RegExp(":"+o,"g");a.match(s)?a=a.replace(s,i[o]):u[o]=i[o]}n.path(a),n.search(u),e=n.url()}};return a.update=function(){i()},a.location=function(){var a=e,i=n.url();i!==a&&(e=i,r.$location(e),t.$broadcast("$locationStateUpdate"))},r.$use(function(r,n){i(),n()}),a}]},{"../utils/url-dictionary":9}],8:[function(r,n,t){"use strict";var e=/([,{]\s*(("|')(.*?)\3|\w*)|(:\s*([+-]?(?=\.\d|\d)(?:\d+)?(?:\.?\d*)(?:[eE][+-]?\d+)?|true|false|null|("|')(.*?)\7|\[[^\]]*\])))/g,a=/^("|')(.*?)\1$/,i=/^[+-]?(?=\.\d|\d)(?:\d+)?(?:\.?\d*)(?:[eE][+-]?\d+)?$/,u=function(r){return"true"===r?!0:"false"===r?!1:"null"===r?null:r.match(a)?r.substr(1,r.length-2):r.match(i)?+r:"NaN"===r?0/0:r},o=function(r){if(r=r.replace(/^\s*/,"").replace(/\s*$/,""),null===r.match(/^\s*{.*}\s*$/))throw new Error("Parameters expects an Object");var n=function(r){return r.replace(/^[\{,]?\s*["']?/,"").replace(/["']?\s*$/,"")},t=function(r){var n=r.replace(/^(:)?\s*/,"").replace(/\s*$/,"");return u(n)};return r.match(e).map(function(r,e,a){return e%2===0?n(r):t(r)})},s=function(r){r=r||"";var n={};return o(r).forEach(function(r,t,e){t%2===0&&(n[r]=e[t+1])}),n};n.exports=s,n.exports.resolveValue=u,n.exports.listify=o},{}],9:[function(r,n,t){"use strict";function e(){this._patterns=[],this._refs=[],this._params=[]}var a=r("./url");e.prototype.add=function(r,n){r=r||"";var t,e=this._patterns.length,i={};t=a(r).path().split(-1===r.indexOf("?")?"/":"/");var u="^";t.forEach(function(r,n){0!==n&&(u+="\\/"),":"===r[0]?(u+="[^\\/?]*",i[r.substring(1)]=new RegExp(u)):u+=r}),u+="[\\/]?$",this._patterns[e]=new RegExp(u),this._refs[e]=n,this._params[e]=i},e.prototype.lookup=function(r,n){r=r||"";var t=a(r).path(),e=a(r).queryparams(),i=this,u=function(r){r=r||"";for(var n=i._patterns.length-1;n>=0;n--)if(null!==r.match(i._patterns[n]))return n;return-1},o=u(t);if(-1!==o){var s={};for(var c in this._params[o]){var f=this._params[o][c],l=(r.match(f)||[]).pop()||"",p=l.split("/").pop();s[c]=p}return s=angular.extend(e,s),{url:r,ref:this._refs[o],params:s}}return null},n.exports=e},{"./url":10}],10:[function(r,n,t){"use strict";function e(r){r=r||"";var n={path:function(){return-1===r.indexOf("?")?r:r.substring(0,r.indexOf("?"))},querystring:function(){return-1===r.indexOf("?")?"":r.substring(r.indexOf("?")+1)},queryparams:function(){for(var r=n.querystring().split("&"),t={},e=0;e<r.length;e++)if(""!==r[e]){var a=r[e].split("=");t[a[0]]="undefined"==typeof a[1]||""===a[1]?!0:a[1]}return t}};return n}n.exports=e},{}]},{},[2]);
//# sourceMappingURL=state-router.min.js.map