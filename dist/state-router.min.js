!function t(e,n,r){function i(o,u){if(!n[o]){if(!e[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[o]={exports:{}};e[o][0].call(f.exports,function(t){var n=e[o][1][t];return i(n?n:t)},f,f.exports,t,e,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function s(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function u(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!s(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,s,a,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],u(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,s=new Array(r-1),a=1;r>a;a++)s[a-1]=arguments[a];n.apply(this,s)}else if(o(n)){for(r=arguments.length,s=new Array(r-1),a=1;r>a;a++)s[a-1]=arguments[a];for(c=n.slice(),r=c.length,a=0;r>a;a++)c[a].apply(this,s)}return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned){var n;n=u(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,"function"==typeof console.trace)}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,s,u;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],s=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(u=s;u-->0;)if(n[u]===e||n[u].listener&&n[u].listener===e){r=u;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?i(t._events[e])?1:t._events[e].length:0}},{}],2:[function(t,e,n){function r(){f=!1,u.length?c=u.concat(c):l=-1,c.length&&i()}function i(){if(!f){var t=setTimeout(r);f=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u[l].run();l=-1,e=c.length}u=null,f=!1,clearTimeout(t)}}function s(t,e){this.fun=t,this.array=e}function o(){}var u,a=e.exports={},c=[],f=!1,l=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new s(t,e)),1!==c.length||f||setTimeout(i,0)},s.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=o,a.addListener=o,a.once=o,a.off=o,a.removeListener=o,a.removeAllListeners=o,a.emit=o,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],3:[function(t,e,n){"use strict";e.exports=["$stateRouter",function(t){return{restrict:"A",scope:{},link:function(e,n,r){n.css("cursor","pointer"),n.on("click",function(e){t.change(r.sref),e.preventDefault()})}}}]},{}],4:[function(t,e,n){"use strict";"undefined"!=typeof e&&"undefined"!=typeof n&&e.exports===n&&(e.exports="angular-state-router"),t("./utils/process"),angular.module("angular-state-router",[]).factory("$stateRouter",t("./services/state-router")).factory("$urlManager",t("./services/url-manager")).run(["$rootScope","$urlManager",function(t,e){t.$on("$locationChangeSuccess",function(){e.location(arguments)})}]).directive("sref",t("./directives/sref"))},{"./directives/sref":3,"./services/state-router":5,"./services/url-manager":6,"./utils/process":7}],5:[function(t,e,n){(function(n){"use strict";var r=t("events"),i=t("../utils/url-dictionary");e.exports=[function(){var t,e=5,s=[],o={},u={},a=new i,c=[],f=new r.EventEmitter,l=function(t){return t.inherit="undefined"==typeof t.inherit?!0:t.inherit,t},h=function(t){t=t||"";for(var e=t.split("."),n=0;n<e.length;n++)if(!e[n].match(/[a-zA-Z0-9]+/))return!1;return!0},v=function(t){t=t||"";for(var e=t.split("."),n=0;n<e.length;n++)if(!e[n].match(/(\*(\*)?|[a-zA-Z0-9]+)/))return!1;return!0},p=function(t,e){var n=function(t){if(t=angular.copy(t),t&&t.resolve)for(var e in t.resolve)t.resolve[e]=!0;return t},r=n(t),i=n(e);return angular.equals(r,i)},m=function(t){var e=t.split(".");return e.map(function(t,e,n){return n.slice(0,e+1).join(".")}).filter(function(t){return null!==t})},d=function(t){t=t||"";var e=null;if(!h(t))return null;if(u[t])return u[t];for(var n=m(t),r=n.map(function(t){return o[t]}).filter(function(t){return null!==t}),i=r.length-1;i>=0&&(r[i]&&(e=angular.extend(angular.copy(r[i]),e||{})),!e||e.inherit);i--);return u[t]=e,e},g=function(t,e){if(null===t||"undefined"==typeof t)throw new Error("Name cannot be null.");if(!h(t))throw new Error("Invalid state name.");var n=angular.copy(e);return l(n),n.name=t,o[t]=n,u={},n.url&&a.add(n.url,n),e},_=function(t){t&&s.push(t),s.length>e&&s.splice(0,s.length-e)},y=function(){var t=[],e=null;return{add:function(e){return e&&e.constructor===Array?t=t.concat(e):t.push(e),this},data:function(t){return e=t,this},execute:function(n){var r;(r=function(){var i=t.shift();return i?void i.call(null,e,function(t){t?(f.emit("error",t,e),n(t)):r()}):n(null)})()}}},w=function(e,n,r,i){r="undefined"==typeof r?!0:r;var s=null,o={name:e,data:n},u=d(e),a=t;u=null!==u?angular.extend({},u,n):null;var l=y().data(o);u?p(a,u)?t=u:(l.add(function(e,n){f.emit("change:begin",o),a&&_(a),t=u,n()}),r&&l.add(c),l.add(function(t,e){f.emit("change:end",o),e()})):(s=new Error("Requested state was not defined."),s.code="notfound",l.add(function(t,e){f.emit("error:notfound",s,o),e(s)})),l.execute(function(t){f.emit("change:complete",t,o),i&&i(t)})};return f.options=function(t){return t=t||{},t.hasOwnProperty("historyLength")&&(e=t.historyLength,_(null)),f},f.state=function(t,e){return e?(g(t,e),f):d(t)},f.init=function(t,e){return n.nextTick(function(){t?w(t,e,!0,function(){f.emit("init")}):f.emit("init")}),f},f.change=function(t,e){return n.nextTick(angular.bind(null,w,t,e,!0)),f},f.$location=function(t,e){var r=a.lookup(t);return r&&n.nextTick(angular.bind(null,w,r.name,e,!1)),f},f.$use=function(t){if("function"!=typeof t)throw new Error("Middleware must be a function");return c.push(t),f},f.current=function(){return t?angular.copy(t):null},f.active=function(e){if(e=e||"",!t)return!1;if(e instanceof RegExp)return!!t.name.match(e);if("string"==typeof e){if(e.match(/^\/.*\/$/)){var n=e.substr(1,e.length-2);return!!t.name.match(new RegExp(n))}var r=e.split(".").map(function(t){return"*"===t?"[a-zA-Z0-9]*":"**"===t?"[a-zA-Z0-9\\.]*":t}).join("\\.");return!!t.name.match(new RegExp(r))}return!1},f.library=function(){return o},f.validate={name:h,query:v},f.history=function(){return s},f}]}).call(this,t("_process"))},{"../utils/url-dictionary":8,_process:2,events:1}],6:[function(t,e,n){"use strict";{var r=t("events");t("../utils/url-dictionary")}e.exports=["$stateRouter","$location",function(t,e){var n=e.url(),i=new r.EventEmitter,s=function(){var r=n,s=e.url();s!==r&&(n=s,t.$location(n,i),i.emit("update:location"))},o=function(){var r=t.current();r&&r.url&&(n=r.url,e.url(n)),i.emit("update")};return i.update=function(){o()},i.location=function(){s(arguments)},t.$use(function(t,e){o(),e()}),i}]},{"../utils/url-dictionary":8,events:1}],7:[function(t,e,n){"use strict";if(window&&!window.process){var r={nextTick:function(t){setTimeout(t,0)}};window.process=r}},{}],8:[function(t,e,n){"use strict";function r(){this._patterns=[],this._refs=[]}var i=t("./url");r.prototype.add=function(t,e){t=t||"";var n,r=this._patterns.length;n=i(t).path().split(-1===t.indexOf("?")?"/":"/");var s="^"+n.map(function(t){return":"===t[0]?"[a-zA-Z0-9\\-_\\.~]+":t}).join("\\/")+"[\\/]?$";this._patterns[r]=new RegExp(s),this._refs[r]=e},r.prototype.lookup=function(t,e){for(var n=i(t||"").path(),r=this._patterns.length-1;r>=0;r--)if(null!==n.match(this._patterns[r]))return this._refs[r];return null},e.exports=r},{"./url":9}],9:[function(t,e,n){"use strict";function r(t){return t=t||"",{path:function(){var e=t.replace(/\?.*/,"");return e},querystring:function(){var e=t.replace(/.*\?/,"");return e}}}e.exports=r},{}]},{},[4]);
//# sourceMappingURL=state-router.min.js.map